**OSI 7계층**

OSI 7계층은 네트워크 통신을 7개의 계층으로 나눈 모델이며, 각 계층이 서로 다른 네트워크 기능을 수행하면서 데이터가 전달되도록 한다.

- 1계층 - 물리 계층
	- 데이터를 비트 단위로 변환하여 전기적 신호로 전달하는 계층이다.
	- 데이터 전송의 물리적 연결을 책임딘다.
- 2계층 - 데이터 링크 계층
	- 물리 계층을 통해 전송된 데이터의 오류를 감지 및 수정한다.
	- 프레임 단위로 데이터 전송을 관리한다.
	- MAC 주소를 이용해 장치 간의 통신을 관리한다.
- 3계층 - 네트워크 계층
	- 데이터를 패킷 단위로 전송하며, 라우팅을 통해 데이터를 목적지까지 전달한다.
	- IP 주소를 이용해 데이터가 다른 네트워크를 거쳐 전달되도록 한다.
	- 여려 네트워크 간의 데이터 전송을 담당한다.
- 4계층 - 전송 계층
	- 데이터 전송의 신뢰성을 보장하고, 포트 번호를 이용해 프로세스 간의 통신을 담당한다.
	- 연결 설정 및 데이터 전송 제어를 담당한다.
- 5계층 - 세션 계층
	- 통신하는 두 장치 간의 세션을 설정하고 관리한다.
- 6계층 - 표현 계층
	- 데이터를 응용 계층에서 사용할 수 있는 형식으로 변환하고, 데이터의 암호화 및 압축을 담당한다.
- 7계층 - 응용 계층
	- 사용자가 네트워크 서비스를 사용할 수 있도록 애플리케이션에 인터페이스를 제공한다.
	- 사용자와 직접 상호작용한다.

---
**xxx.com에 접속하면 발생하는 일**

OSI 7계층 관점
```basic
- 사용자가 브라우저에 해당 도메인 주소를 입력하면 HTTP 요청이 생성된다.
- 표현 계층에서 데이터 형식 변환 및 암호화 작업이 필요하면 수행한다.
- 세션 계층에서는 브라우저와 서버 간의 세션을 설정, 유지 및 종료하는 역할을 한다.
- 전송 계층을 통해 3-way-handshake 과정을 수행하여 연결을 성립한다.
- DNS 서버로부터 전달받은 IP 주소를 사용하여 패킷을 생성하고, 라우터를 통해 목적지까지 전달될 경로를 결정한다.
- 데이터 링크 계층에서는 패킷을 프레임 단위로 나누어 물리적 전송 매체를 통해 전달 준비를 한다.
- 물리 계층에서는 케이블, 라우터 등의 네트워크 장비를 통해 비트 단위로 데이터가 전달된다.
```

요약 과정
```basic
- 사용자가 www.google.com을 입력하면, HTTP 요청이 생성된다.
- 캐시에 해당 도메인 주소가 있는지 확인한다.
- 없다면 DNS 조회를 통해 도메인 이름이 IP 주소로 변환된다.
- TCP 연결이 설정되고, 데이터가 세그먼트로 분할된다.
- IP 주소를 사용해 패킷이 라우터를 통해 경로를 설정하고 목적지로 전송된다.
- 데이터 링크 계층에서 프레임으로 변환되고, 물리적 전송이 이루어진다.
- Google 서버는 요청을 받아 응답을 생성해, 동일한 경로를 통해 클라이언트로 데이터를 전송한다.
```

---
**TCP/UDP**

TCP
```basic
TCP는 연결 지향적으로 클라이언트와 서버 간에 연결을 3-way-handshake를 통해 설정한다.
데이터의 손실이 발생하지 않고, 순서대로 전송하는 것을 보장한다.
전송된 데이터에 대해 수신 확인(ACK)을 받음으로써 전달 여부를 확인한다.

주로 이메일, 파일, 웹 브라우징에 사용된다.
```

UDP
```basic
UDP는 비연결성으로 데이터 전송 전에 연결 설정이 필요하지 않고, 연속적으로 전송한다.
이런 이유로 전송 속도가 빠르다.
또한, 수신 확인 및 재전송을 보장하지 않아 신뢰성이 없다.
TCP보다 헤더가 간단하고 오버헤드가 적어 빠른 전송이 필요할 때 적합하다.

주로 온라인 게임, DNS 조회, 실시간 스트리밍에 사용된다.
```

---
**HTTP/HTTPS**

HTTP
```basic
HTTP는 비보안 데이터 전송을 위한 인터넷 프로토콜이다.
텍스트, 이미지, 동영상 등의 데이터를 비암호화된 형태로 웹 브라우저와 서버 간에 전송을 위해 사용한다.
기본적으로 80 포트를 사용한다.
```

HTTPS
```basic
HTTPS는 HTTP에 SSL 또는 TLS를 추가하여 데이터를 암호화하는 프로토콜이다.
보안이 강화된 방식으로 데이터를 주고 받을 때 사용한다.

HTTPS는 SSL/TLS 핸드셰이크를 통해 암호화 키를 교환하고 보안 채널을 설정하고,
보안 채널이 설정되면 모든 데이터 암호화되어 전송된다.
또한, 서버는 SSL 인증서를 사용해 클라이언트가 서버의 신원을 확인할 수 있도록 한다.

추가로 브라우저는 HTTPS를 사용하는 웹사이트에 더 높은 순위를 부여하고,
사용자는 브라우저에서 "보안 연결"을 확인 할 수 있어 신뢰도가 높기 때문에 사용한다.
```

---
**HTTP 메서드**

```basic
HTTP 메서드의 종류는 GET, POST, PUT, PATCH, DELETE 등이 있다.

GET은 서버로부터 특정 리소스를 요청하는 것을 의미한다.
POST는 서버로 데이터를 제출하여 리소스를 생성하거나 업데이트 요청하는 것을 의미한다.
PUT은 지정된 리소스의 업데이트 요청하는 것을 의미한다.
PATCH는 지정된 리소스의 부분 업데이트 요청하는 것을 의미한다.
DELETE는 지정된 리소스 삭제 요청하는 것을 의미한다.

POST, PUT, PATCH의 경우 데이터가 RequestBody에 실어져 보내지기 때문에 URL에 데이터가 노출되지 않는 특징이 있다.
```

---
**RESTful API**

REST(REpresentation State Tranfer)란?
```basic
REST는 웹의 장점을 최대한 활용하기 위해 제안된 아키텍처 스타일로 자원의 표현과 상태 전달에
초점을 맞추며, 클라이언트-서버 간의 통신을 간단하고 효율적으로 만들기 위한 규칙과 원칙을 제공한다.
```

RESTful은?
```basic
REST의 원칙을 따르는 API를 의미하며, 데이터를 구조화하고 액세스하는 방식을 표준화한다.
클라이언트는 HTTP 요청을 사용하여 서버에 데이터를 요청하고, 서버는 요청에 대한 응답을 반환한다.

RESTful API의 설계 주요 요소는 자원을 URI로 식별하고, HTTP 메서드를 통해 행위를 정의하며,
HTTP 상태 코드를 사용해 요청에 대한 응답을 확인한다.
```

---
**상태 비저장성(Stateless)**

```basic
각 클라이언트 요청이 서로 독립적이고, 서버가 이전 요청의 상태를 기억하지 않는 특성을 의미한다.
즉, 클라이언트가 서버에 요청을 보낼 때마다, 요청이 서로 연관되지 않은 개별적인 트랜잭션으로 처리된다.

장점으로는 상태 정보를 관리하지 않기 때문에 응답이 빠르며,
클라이언트 요청을 처리하는 서버의 부하가 줄어 시스템을 확장하기 쉽다.
하지만 단점으로는 요청을 보낼 때마다 모든 필요한 정보를 포함해야 하기 때문에
네트워크 트래픽이 증가할 수 있다.

HTTP의 상태 비저장성을 극복하기 위해서는 쿠키, 세션, JWT와 같은 토큰 기반 인증 방법 등을 사용한다.
```

---
**Cookie/Session**

```basic
쿠기와 세션은 HTTP 프로토콜의 특성인 connectionless와 stateless를 보완하기 위해 사용한다.

쿠키는 클라이언트 로컬에 저장되며 key-value를 쌍으로 가지는 작은 데이터 파일이다.
유효시간이 정해지면 브라우저가 종료되어도 인증이 유지될 수 있다는 특징이 있다.
쿠키 하나는 4kb까지 저장이 가능하다.

세션은 통신을 하기 위해 서로 연결된 순간부터 통신을 마칠 때 까지의 기간을 의미한다.
보통 해당 도메인에 접속하여 브라우저가 종료되는 시간까지를 의미한다.
세션은 서버 사이드에 위치하여 쿠키보다 보안에 좋지만 정보가 많아질수록 서버 메모리를 많이 차지하게되는 단점이 있다.
```

---
**DNS(Domain Name System) 작동 원리**

```basic
DNS는 컴퓨터들이 문자열 도메인을 통해서도 최종 목적지까지 도달할 수 있도록
IP 주소와 도메인을 매핑해놓은 주소 체계입니다.
사용자가 도메인 주소를 브라우저 창에 입력하여 요청을 보내면, 우선 로컬 컴퓨터의 캐시에
해당 도메인의 IP가 저장되어 있는지 확인합니다.
있는 경우 바로 해당 IP 주소로 패킷을 전송하고, 없는 경우 연결된 Root DNS 서버에
원하는 domain 의 IP 주소가 존재하는지 묻는 쿼리를 보냅니다.
Root DNS 서버는 도메인의 TDL 정보를 가지고 있는 하위 DNS 서버의 IP를 요청하고,
이 쿼리는 최종 도메인의 IP 주소를 받을 때까지 반복됩니다.
마지막으로 IP 주소를 로컬 DNS와 브라우저 PC에 캐싱하면, 로컬 컴퓨터는 그 이후에야
해당 IP 주소로 패킷을 보낸다. 쉽게 말해서, DNS 서버에 원하는 도메인에 해당하는
IP 주소를 요청하고 확인이 된 후에 데이터를 입력 및 전송할 수 있습니다.
```

---
**로드밸런싱**

```basic
여러 서버에 트래픽을 고르게 분산시켜 시스템의 성능과 안정성을 높이는 기술이다.

하나의 서버에 집중되는 트래픽을 여러 대의 서버로 분산시켜 과부하를 방지하고,
서버 다운 타임을 최소화하는 것을 목표로한다.
로드 밸런싱은 부하를 분산시켜 응답 속도를 높이고, 다른 서버가 요청을 처리할 수 있기 때문에
시스템 가용성이 높아진다. 또한, 트래픽이 증가할 때는 스케일 아웃을 통해 대처가 가능하다.

로드밸런싱의 흐름은 다음과 같다.
클라이언트가 요청을 보내면 로드밸런서가 이를 수신하다.
로드밸런서는 트래픽 분산 알고리즘에 따라 요청을 적절한 서버로 전달한다.
서버는 요청을 처리하고, 응답을 로드밸런서를 통해 클라이언트에 반환한다.
```

---
**웹 소켓과 HTTP 차이**

HTTP
```basic
클라이언트와 서버 간의 요청-응답 기반의 통신을 위한 비연결성 및 상태 비저장성 프로톨이다.
클라이언트의 요청이 서버로 전달되면 서버가 응답을 반환하고 연결이 종료되는 방식으로 동작한다.
빈번한 연결 설정이 있을 경우 네트워크 트래픽이 많아질 수 있다.
```

웹소켓
```basic
양방향 통신을 위한 프로토콜로 클라이언트와 서버 간에 지속적인 연결을 유지하고
이를 통해 실시간 데이터 전송이 가능하다.
즉, 클라이언트와 서버가 서로 동시에 데이터를 주고받을 수 있고, 클라이언트가 요청하지 않더라도
서버가 데이터를 전송할 수 있다.
최초에는 HTTP 핸드셰이크를 통해 연결하고, 이후 웹소켓 프로토콜로 전환한다.
```

---
**CORS란?**

```basic
서버가 HTTP 헤더를 사용하여 특정 출처에서 오는 요청을 허용할지 여부를 명시하는 방식으로
다른 출처의 리소스에 접근할 수 있도록 한다.

출처는 도메인, 프로토콜, 포트의 조합으로 정의되는데 이 중 하나라도 다른 경우
동일하지 않은 출처로 간주된다. 이를 확인하기 위해서 실제 요청 전에 브라우저가
서버에 프리플라이트 요청을 OPTIONS 메서드를 통해 보내 허용 여부를 확인하고 결과에
따라 실제 요청을 수행할지 말지 결정한다.

CORS 문제를 해결하기 위해서는 다음과 같은 방법이 있다.
서버 측에서 CORS 헤더를 올바르게 설정하여 클라이언트 요청을 허용한다.
프록시 서버를 사용하여 정책을 우회한다.
```

---
**TCP 3-way-handshake**

```basic
TCP에서 클라이언트와 서버 간의 연결을 설정하는 방식이다.
먼저 클라이어느가 서버에 SYN 패킷을 보내며 연결을 요청하고, 서버는 클라이언트의 요청을 받고,
SYN-ACK 패킷으로 응답을 한다. 마지막으로 클라이언트가 서버의 응답을 확인하고,
ACK 패킷을 보내 연결이 성립된다.

양쪽 모두가 연결이 준비되었음을 확인할 수 있도록 초기 시퀀스 번호를 교환하고,
연결 가능한 상태인지를 확인하기 위해 위와 같은 방법을 사용한다.
```

---
**NAT(Network Address Translation)**

```basic
패킷이 라우팅 장치를 통해 전송되는 동안 패킷의 IP 주소 정보를 수정하여
IP 주소를 다른 주소로 매핑하는 방법이다.
NAT 장치를 통해 사설 IP를 공인 IP로 변환하거나 공인 IP를 사설 IP로 변환하는데 사용된다.
IPv4 주소 체계만으로는 많은 주소들을 모두 감당하지 못하는 단점이 있는데,
이를 해결하기 위해 NAT로 공인과 사설 IP로 나눠 많은 주소를 처리할 수 있다.
```

---
**IP 주소의 종류와 차이(IPv4, IPv6)**

IP?
```basic
Internet Protocol의 약자로 기기 간 네트워크 통신을 할 때 쓰는 프로토콜을 의미한다.
```

IPv4
```basic
인터넷이 처음 설계될 때 만들어진 IP 주소 체계이며 32비트 주소를 사용하여
약 43억 개의 고유한 주소를 제공할 수 있다. 십진수로 표기된 4개의 숫자로 구성하며
각 숫자는 0~255 사이이다. IPv4 자체는 보안 기능이 내장되어 있지 않기 때문에
주로 애플리케이션 계층에서 구현해야한다.
```

IPv6
```basic
IPv4의 주소 제한 문제가 발생하여 이를 해결하기 위해 등장했다. 128비트 주소를 사용하며
무수히 많은 주소를 제공할 수 있다. 16진수로 표기된 8개의 그룹으로 구성되어있으며
각 그룹은 콜론으로 구분한다.
IPSec을 통해 보안 기능이 내장되어 있고, 주소 자동 구성 및 간단한 헤더 구조 등으로 인해
성능이 개선되었다.
```

---
**MAC이 무엇인가?**

```basic
PC 또는 노트북 등 각 장치에 네트워크 연결을 위한 LAN 카드의 식별 번호이다.
MAC 주소는 6바이트로 구성되며, 물리주소라고 한다.

MAC 주소는 같은 로컬 네트워크 안에서 장치 간의 통신을 위해 사용된다.
이더넷 프레임은 출발지 MAC 주소와 목적지 MAC 주소를 포함해 데이터를 올바른 장치에 전달 할 수 있다.
ARP(주소 결정 프로토콜)을 사용해 IP 주소를 MAC 주소로 변환하고,
해당 MAC 주소를 목적지 주소로 설정하여 데이터를 전달한다.
```

ARP
```basic
전송 결정 프로토콜로 동작 방식은 다음과 같다.

주소를 찾으려는 장치가 IP 주소가 담긴 ARP Request 브로드캐스트를 보낸다.
해당 주소가 맞는 장치는 ARP Reply 유니캐스트를 통해 MAC 주소를 반환한다.
IP 주소에 맞는 MAC를 찾아 목적지 주소로 설정한다.
```

---
**프로토콜이란?**

```basic
프로토콜은 네트워크 장비와 컴퓨터들이 데이터를 교환할 때 필요한 규칙과 절차를 정의하는 약속의 집합이다.

프로토콜의 주요 요소는 구문, 의미, 타이밍으로 형식과 구조를 정의하고,
데이터의 의미와 처리 방법을 정의한다. 그리고 데이터가 언제 전송되어야 하는지와 속도 조절을 정의한다.

프로토콜은 HTTP, FTP, TCP, UDP 등이 있으며, 서로 다른 시스템이 문제없이 소통할 수 있도록 보장하고,
데이터가 손실되지 않고, 올바른 순서로 도착하도록 보장한다.
```

---
**HTTPS에서 SSL/TLS 어떻게 보안을 보장하나?**

SSL
```basic
데이터를 암호화하여 안전하게 전송하기 위한 보안 프로토콜이다.
인터넷 초기에 사용된 보안 프로토콜로 SSL 3.0 이후로는 업데이트가 중단되었다.

핸드셰이크 과정에서 보안 매개변수를 협상하는 방식이 더 단순하지만 보안에 취약할 수 있다.
```

TLS
```basic
SSL을 대체하기 위해 개발된 보안 프로토콜로 SSL의 문제를 해결하고 성능을 개선했다.

핸드셰이크 과정이 더 복잡하지만 강력한 보안을 제공하고 속도와 성능을 개선했다.
```

보안 방식
```basic
SSL과 TLS는 데이터를 암호화하여 중간에서 도청할 수 없도록 보호한다.
또한 디지털 인증서를 사용해 서버의 신원을 인증한다.

SSL과 TLS의 핸드셰이크 과정은 다음과 같다.
클라이언트가 서버에 연결 요청을 보내며, 지원하는 암호화 알고리즘, TLS 버전, 난수를 포함한다.
서버는 클라이언트 요청에 응답하고 사용할 암호화 알고리즘을 선택하여 서버 인증서와 난수를 포함해
클라이언트에게 응답한다.
클라이언트는 서버의 인증서를 검증한다.
클아이언트와 서버는 대칭 키 생성을 위해 공개 키 암호화를 사용한다.
이후 모든 데이터는 이 대칭키로 암호화되어 전송된다.
```

---
**VPN이란?**

```basic
인터넷 상에서 사용자의 데이터와 트래픽을 암호화하고, 사용자의 IP 주소를 숨겨서 보안을 강화하는 역할을 한다.

사용자가 접속할 때 데이터를 암호화하여 VPN 서버를 통해 전송하여 보안을 강화한다.
이후 모든 트래픽은 암호화된 터널을 통해 VPN 서버로 보내지거나 전달되어지고,
사용자의 IP 주소는 VPN 서버의 IP 주소로 대체되기 때문에 실제 위치나 신원이 숨겨져
익명성을 유지할 수 있다.
```
