# 2. 데이터
> 컴퓨터가 이해하는 정보 단위를 학습하고, 이진법과 십육진법을 통해 다양한 데이터를 표현하는 방법을 알아보겠습니다.

## 2-1. 0과 1로 숫자를 표현하는 방법
### 정보 단위
컴퓨터가 이해할 수 있는 가장 작은 정보 단위는 비트입니다.
- 1비트는 0 또는 1로 두가지 정보를 표현할 수 있습니다.
- 2비트는 총 4가지, 3비트는 총 8가지 정보를 표현할 수 있습니다. 즉 n비트는 2<sup>n</sup>의 표현 개수를 가집니다.

컴퓨터가 사용하는 정보를 비트로 표현할 수 있지만 단위가 커지면 표현과 인식의 불편함이 발생하기 때문에 아래와 같은 단위들이 존재합니다.
- 바이트(byte) : 8비트(Bit)
- 킬로바이트(KB) : 1,000바이트(byte)
- 메가바이트(MB) : 1,000킬로바이트(KB)
- 기가바이트(GB) : 1,000메가바이트(MB)
- 테라바이트(TB) : 1,000기가바이트(GB)

```
우리가 흔히 알고 있는 1MB 등은 10진수 기준으로 표현하는 방식이고, MiB(메비바이트)는 2진수 기반 정보의 표현 단위를 정의한 것
```

10진수와 2진수를 기준으로 하는 정보 표현 방식에 절대적인 규칙은 없지만 다음과 같은 상황에서 사용합니다.
- 10진수 표현 방식(MB 등)
	- 소비자 대상 제품에서 표현하는 경우
	- 하드디스크, SSD, USB, 네트워크 등
	- 500GB SDD는 500 x 10<sup>9</sup> bytes로 약 465GiB 정도 박에 안되지만 마케팅 효과를 위해 10진수 방식을 채택
- 2진수 표현 방식(MiB 등)
	- 운영체제, 프로그래밍, 개발자 등이 표현
	- 리눅스에서 `free -m` 명령어의 경우 MiB 기준
	- 프로그래밍 언어에서 메모리 계산 시 1024 * 1024를 사용
	- 

대표적인 OS로 윈도우와 리눅스에서의 파일 용량 표현 방식은 아래와 같습니다.
- 윈도우 : 2진수를 쓰지만 단위는 10진수로 표기
- 리눅스 : 기본적으로 2진수 기준으로 표현하지만 `GNU coreutils`에서는 더 명확히 표현하기 위해 10진수 사용

그 외 **워드**라는 정보 단위도 존재하는데 워드는 CPU가 한번에 처리할 수 있는 데이터 크기를 의미합니다. 만약 CPU가 한번에 16비트를 처리할 수 있다면 해당 CPU의 1워드는 16비트가 되는 것입니다. 워드 크기가 큰 CPU는 한번에 처리할 수 있는 데이터의 양이 많아집니다.

인텔의 x86 CPU는 1워드에 32비트, x64 CPU는 1워드에 64비트입니다.

### 이진법
이진법은 숫자가 1을 넘어가는 시점에 자리 올림을 하는 방식입니다. 0~9까지 숫자 10개를 사용하여 모든 수를 표현하는 십진법과 다르게 이진법은 0과 1을 이용하여 모든 수를 표현합니다.

```bash
1 -> 1 # 자리 올림
2 -> 1 0
3 -> 1 1 # 자리 올림
4 -> 1 0 0
5 -> 1 0 1 # 자리 올림
6 -> 1 1 0
7 -> 1 1 1 # 자리 올림
8 -> 1 0 0 0
```

십진수의 10과 이진수의 10을 구분하기 위해서 다음과 같은 규칙을 사용합니다.
- 100<sub>(2)</sub> : 수학적으로 이진수를 표기할 때
- 0b100 : 코드 상에서 이진수를 표기할 때

#### 이진수의 음수 표현
이진수는 마이너스(-) 부호를 인식할 수 없기 때문에 **2의 보수**를 구해 이 값을 음수로 간주합니다. 2의 보수는 '어떤 수를 그보다 큰 2<sup>n</sup>에서 뺀 값'을 의미합니다. 예를 들어 11<sub>(2)</sub>의 보수는 100<sub>(2)</sub> - 11<sub>(2)</sub> = 01<sub>(2)</sub>입니다.

이 부분을 조금 더 쉽게 표현하면 '모든 0과 1을 뒤집고, 거기에 1을 더한 값'으로 이해하면 됩니다.

양수와 음수를 표현하는 이진수가 동일한 형태인 경우가 있는데 그런 경우는 **플래그**를 사용하여 인식합니다.

### 십육진법
이진법으로 모든 숫자를 다 표현하기에는 길이가 너무 길어진다는 단점이 있습니다. 이를 해결하기 위해 십육진법을 사용합니다. 십육진법은 숫자가 15가 넘어가는 시점에 자리 올림을 하는 표현 방식입니다.

```bash
10 -> A
11 -> B
12 -> C
13 -> D
14 -> E
15 -> F
16 -> 10
17 -> 11
...
```

십육진수의 표기에도 다음과 같은 규칙이 있습니다.
- 15<sub>(16)</sub> : 수학적 표기를 하는 경우
- 0x15 : 코드상에서 표기하는 경우

십진법 대신 십육진수를 쓰는 이유는 이진수와의 변환이 쉽기 때문입니다.

#### 십육진수와 이진수의 변환
십육진수의 숫자 하나를 이진수로 표현하려면 **4비트**가 필요합니다. 이 점을 고려해서 십육진수를 이진수로 변환할 때는 **십육진수 한 글자를 4비트의 이진수로 간주**하면 됩니다.

- 십육진수를 이진수로 변환
	- 1A2B<sub>(16)</sub>이라는 십육진수를 각각 이진수로 표현
		- 1 -> 0001
		- A -> 1010
		- 2 -> 0010
		- B -> 1011
		- 합치면 -> 0001101000101011<sub>(2)</sub>
- 이진수를 십육진수로 변환
	- 11010101<sub>(2)</sub>를 이진수를 각 4비트씩 십육진수로 변환하고 이어붙이기
		- 1101 -> D
		- 0101 -> 5
		- 합치면 -> D5<sub>(16)</sub>

---
## 2-2. 0과 1로 문자를 표현하는 방법
컴퓨터가 문자를 표현하는 방식에 대해서 알아보겠습니다.
### 문자 집합과 인코딩
컴퓨터가 문자를 어떻게 표현하기 위해서는 **문자 집합, 인코딩, 디코딩**이 중요합니다.

- 문자 집합 : 컴퓨터가 인식하고 표현할 수 있는 문자의 모음
- 인코딩 : 문자 집합에 속한 문자를 컴퓨터가 인식하고 변환하는 과정
- 디코딩 : 0과 1로 이루어진 문자 코드를 사람이 이해할 수 있는 문자로 변환하는 과정

인코딩은 문자 집합에 속한 문자를 컴퓨터가 이해할 수 있는 이진수로 변환하는 과정이고, 디코딩은 변환된 문자를 사람이 읽을 수 있도록 다시 문자로 변환하는 과정입니다.

### 아스키 코드
ASCII는 American Standard Code for Information Interchange의 약자로 영어 알파벳, 아라비아 숫자, 일부 특수 문자를 포함하는 문자 집합입니다.

7비트로 표현할 수 있는 정보의 가짓수는 총 2<sup>7</sup>개로, 총 128개의 문자 표현이 가능합니다. 아스키 문자는 문자 하나를 표현하는데 8비트를 사용하지만 그 중 1비트는 패리티 비트라고 불리며, 오류 검출을 위해 사용합니다.

아스키 코드에서 A는 십진수 65이며, 인코딩 시 1000001<sub>(2)</sub>가 됩니다.

### EUC-KR
영어는 알파벳을 쭉 이어붙여서 하나의 단어를 완성하지만 한글은 초성, 중성, 종성의 조합으로 이루어져 있다는 특성이 있습니다. 이런 특성으로 인해 한글은 두 가지 방식으로 인코딩 됩니다.
- 완성형 인코딩 : 완성된 하나의 글자에 고유한 코드를 부여하는 방식
	- 예) 김, 박, 이 등
- 조합형 인코딩 : 초성, 중성, 종성 비트열을 조합하여 하나의 글자 코드를 완성하는 인코딩 방식
	- 예) ㄱ + ㅣ + ㅁ = 김, ㅂ + ㅏ + ㄱ = 박 등

EUC-KR은 완성형 인코딩 방식으로 초성, 중성, 종성이 모두 결합된 한글 단어에 2바이트 크기의 코드를 부여합니다. 즉, 한글 하나에 16비트가 필요하게 됩니다.

### 유니코드와 UTF-8
각 나라마다 특정한 문자 집합이 있는 경우 다국어 프로그램 제작 시 모든 나라의 문자 집합을 다 알고 있어야하는 번거로움이 존재하여 이를 극복하기 위해 만들어진 것이 유니코드 입니다. 현대 문자를 표현할 때 가장 많이 사용되는 표준 문자 집합입니다.

유니코드의 특징은 글자에 부여된 값 자체를 인코딩된 값으로 삼는 것이 아니라 이 값을 다양한 방법으로 인코딩합니다. UTF-8, 16, 32 등의 방법이 있습니다.

그 중 UTF-8이 가장 대중적입니다. 1바이트부터 4바이트까지의 인코딩 결과를 만들어 내어 유니코드 문자에 부여된 값의 범위에 따라 결정합니다.

| 첫 코드 포인트 | 마지막 코드 포인트 | 1바이트      | 2바이트     | 3바이트     | 4바이트     |
| -------- | ---------- | --------- | -------- | -------- | -------- |
| 0000     | 007F       | 0XXXXXXXX |          |          |          |
| 0080     | 07FF       | 110XXXXX  | 10XXXXXX |          |          |
| 0800     | FFFF       | 1110XXXX  | 10XXXXXX | 10XXXXXX |          |
| 10000    | 10FFFF     | 11110XXX  | 10XXXXXX | 10XXXXXX | 10XXXXXX |
위 표에서 X로 표시된 부분들은 유니코드 문자에 부여된 고유한 값이 들어갑니다. '한'에 부여된 값은 D55C<sub>(16)</sub>으로 이진수로 표현하면 1101 0101 0101 1100<sub>(2)</sub>입니다. 이를 최종적으로 UTF-8 방식으로 표현하면 다음과 같습니다.

```bash
11101101 10010101 10011100
```
